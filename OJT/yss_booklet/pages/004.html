<style>
  /* ================= PAGE BASE ================= */
  .ojt-page {
    font-family: Arial, sans-serif;
    max-width: 900px;
    margin: 0 auto;
    padding: 20px 10px;
    font-size: 13.5px;
    color: #000;
  }

  /* ================= TITLE ================= */
  .module-title {
    font-weight: bold;
    font-size: 15px;
    margin-bottom: 10px;
    text-transform: uppercase;
  }

  /* ================= TABLE BASE ================= */
  .module-table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
  }

  .module-table th,
  .module-table td {
    border: 1px solid #000;
    padding: 8px 10px;
    vertical-align: top;
  }

  .module-table th {
    text-align: center;
    font-weight: bold;
  }

  /* ================= COLUMN WIDTHS ================= */
  .col-task {
    width: 12%;
    text-align: center;
    vertical-align: middle;
    font-weight: bold;
  }

  .col-tasks {
    width: 18%;
  }

  .col-objectives {
    width: 28%;
  }

  .col-skills {
    width: 22%;
  }

  .col-checklist {
    width: 20%;
  }

  /* ================= CELL CONTENT ================= */
  .cell-lines div {
    margin-bottom: 6px;
  }

  .cell-lines div:last-child {
    margin-bottom: 0;
  }

  /* ================= CHECKLIST STYLE ================= */
  .checklist div::before {
    content: "☐";
    margin-right: 8px;
  }

  /* ================= FOOTER ================= */
  .page-footer {
    margin-top: 24px;
    font-size: 11px;
    color: #666;
    text-align: right;
  }
</style>

<div class="ojt-page">

  <div class="module-title">MODULE 1 – USE OF SYSTEMS</div>

  <table class="module-table">
    <tr>
      <th class="col-task">Task</th>
      <th class="col-tasks">Tasks To Do</th>
      <th class="col-objectives">Task Objectives / Standard to Meet</th>
      <th class="col-skills">Skills &amp; Knowledge Explained</th>
      <th class="col-checklist">Checklist</th>
    </tr>

    <!-- ================= CITOS / PORTNET ================= -->
    <tr>
      <td class="col-task">CITOS/<br>PORTNET</td>

      <td class="cell-lines">
        <div>BERTH Chart</div>
        <div>ENQC</div>
        <div>YMCN</div>
        <div>Container Journal</div>
        <div>DG PM4</div>
      </td>

      <td class="cell-lines">
        <div><strong>BERTH Chart</strong> – Monitor vessel berthing schedules.</div>
        <div><strong>ENQC</strong> – Verify container details and status.</div>
        <div><strong>YMCN</strong> – View container history.</div>
        <div><strong>Container Journal</strong> – Record of container details.</div>
        <div><strong>DG PM4</strong> – View dangerous goods documentation.</div>
      </td>

      <td class="cell-lines">
        <div>• Navigating CITOS / PORTNET interface.</div>
        <div>• Understanding container codes and statuses.</div>
      </td>

      <td class="checklist cell-lines">
        <div>Successfully accessed BERTH Chart</div>
        <div>Performed ENQC for container verification</div>
        <div>Updated YMCN for yard movements</div>
        <div>Maintained Container Journal accurately</div>
        <div>Processed DG PM4 correctly</div>
      </td>
    </tr>

    <!-- ================= CCTV ================= -->
    <tr>
      <td class="col-task">CCTV</td>

      <td class="cell-lines">
        <div>OpsVdi Access</div>
      </td>

      <td class="cell-lines">
        <div><strong>Log in</strong> and monitor CCTV feeds.</div>
        <div>Ensure real-time surveillance of operational areas.</div>
        <div><strong>Report</strong> any anomalies.</div>
      </td>

      <td class="cell-lines">
        <div>• Operating OpsVdi software.</div>
        <div>• Navigate CCTV for EARTG, OHBC, etc.</div>
      </td>

      <td class="checklist cell-lines">
        <div>Successfully logged into OpsVdi</div>
        <div>Access to various equipments &amp; yard locations</div>
      </td>
    </tr>

    <!-- ================= YCS / SHUFFLING ================= -->
    <tr>
      <td class="col-task">YCS/<br>SHUFFLING</td>

      <td class="cell-lines">
        <div>Shuffling Panel</div>
        <div>IYS Shifting Panel</div>
      </td>

      <td class="cell-lines">
        <div><strong>Shuffling Panel</strong> – Manage container reshuffling.</div>
        <div><strong>IYS Shifting Panel</strong> – Manage internal shiftings, shuffling and generate reports.</div>
      </td>

      <td class="cell-lines">
        <div>• Optimize container via row &amp; side shuffling.</div>
        <div>• Formulate a shifting plan.</div>
      </td>

      <td class="checklist cell-lines">
        <div>Efficient use of shuffling tools for RTG / BC / FM</div>
        <div>Suspend, schedule, sequence CMRs into different point groups</div>
        <div>Generate reports</div>
      </td>
    </tr>

    <!-- ================= YOMC ================= -->
    <tr>
      <td class="col-task">YOMC</td>

      <td class="cell-lines">
        <div>YOMC Panel</div>
        <div>MB Panel</div>
        <div>Diversion Panel</div>
        <div>PM Monitoring</div>
      </td>

      <td class="cell-lines">
        <div><strong>YOMC Panel</strong> – Oversee yard operations.</div>
        <div><strong>MB Panel</strong> – Monitor mealbreak activities.</div>
        <div><strong>Diversion Panel</strong> – Handle container diversions.</div>
        <div><strong>PM Monitoring</strong> – Track performance metrics.</div>
      </td>

      <td class="cell-lines">
        <div>• Toggle between all terminal / section.</div>
        <div>• MB / WT real-time monitoring.</div>
        <div>• Double-check container details before DG diversion.</div>
        <div>• Update container location.</div>
        <div>• PM no-show monitoring.</div>
      </td>

      <td class="checklist cell-lines">
        <div>Proficient use of YOMC interface</div>
        <div>Monitor WT / MB / CSB compliance</div>
        <div>Able to handle diversion &amp; DG diversion</div>
        <div>Able to monitor PM productivity &amp; no-show</div>
      </td>
    </tr>

  </table>

  <div class="page-footer">4 | Page</div>
  <script>
  (function () {

    const PAGE_CODE = "YSS_004";   // change to YSS_014 for page 14
    const SAVED_DATA = {{ saved_data | default({}) | tojson | safe }};

    const fields = document.querySelectorAll(
      "input[name], textarea[name], select[name]"
    );

    // Restore
    fields.forEach(el => {
      if (!SAVED_DATA.hasOwnProperty(el.name)) return;

      if (el.type === "radio") {
        el.checked = (el.value === SAVED_DATA[el.name]);
      } else if (el.type === "checkbox") {
        el.checked = SAVED_DATA[el.name] === "true";
      } else {
        el.value = SAVED_DATA[el.name];
      }
    });

    let timer = null;

    function autosave(el) {
      fetch("/training/autosave", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          page_code: PAGE_CODE,
          field: el.name,
          value: el.type === "checkbox" ? String(el.checked) : el.value
        })
      });
    }

    fields.forEach(el => {
      const handler = () => {
        clearTimeout(timer);
        timer = setTimeout(() => autosave(el), 200);
      };
      el.addEventListener("input", handler);
      el.addEventListener("change", handler);
    });

  })();
  </script>
</div>
