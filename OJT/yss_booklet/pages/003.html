<style>
  /* ================= PAGE BASE ================= */
  .ojt-page {
    font-family: Arial, sans-serif;
    max-width: 900px;
    margin: 0 auto;
    padding: 20px 10px;
    font-size: 14px;
    color: #000;
  }

  /* ================= TITLE ================= */
  .page-title {
    text-align: center;
    font-weight: bold;
    font-size: 18px;
    margin-bottom: 16px;
    text-transform: uppercase;
    line-height: 1.4;
  }

  /* ================= TABLE BASE ================= */
  .ojt-table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
  }

  .ojt-table td,
  .ojt-table th {
    border: 1px solid #000;
    padding: 8px 10px;
    vertical-align: middle;
  }

  /* ================= HEADER CELLS ================= */
  .label {
    font-weight: bold;
    width: 20%;
  }

  .value {
    text-align: center;
  }

  /* ================= TOP INFO ROWS ================= */
  .top-table td {
    height: 42px;
  }

  /* ================= TASK TABLE ================= */
  .task-header {
    font-weight: bold;
    text-align: center;
  }

  .sn {
    width: 8%;
    text-align: center;
  }

  .task {
    width: 72%;
  }

  .hours {
    width: 20%;
    text-align: center;
    white-space: nowrap;
  }

  /* ================= ROW HEIGHT ================= */
  .task-row td {
    height: 52px;
  }

  /* ================= FOOTER ================= */
  .page-footer {
    margin-top: 28px;
    font-size: 11px;
    color: #666;
    text-align: right;
  }
</style>

<div class="ojt-page">

  <!-- ================= TITLE ================= -->
  <div class="page-title">
    ON-THE-JOB TRAINING (OJT)<br>
    CURRICULUM
  </div>

  <!-- ================= TOP INFORMATION TABLE ================= -->
  <table class="ojt-table top-table">
    <tr>
      <td class="label">JOB TITLE:</td>
      <td class="value">Yard Shifting Supervisor</td>
      <td class="label">SECTION:</td>
      <td class="value">P1-3</td>
    </tr>
    <tr>
      <td class="label">DEPARTMENT:</td>
      <td class="value">Yard Operations (YOD)</td>
      <td class="label">DIVISION:</td>
      <td class="value">SE1</td>
    </tr>
    <tr>
      <td class="label">OJT MODULE:</td>
      <td class="value">Yard Shifting Supervisor Course</td>
      <td class="label">TOTAL TASKS:</td>
      <td class="value"></td>
    </tr>
  </table>

  <!-- ================= TASKS TABLE ================= -->
  <table class="ojt-table" style="margin-top: 10px;">
    <tr class="task-header">
      <td class="sn">S/N</td>
      <td class="task">TASKS</td>
      <td class="hours">OJT HOURS</td>
    </tr>

    <tr class="task-row">
      <td class="sn">1</td>
      <td class="task">
        Use of Systems â€“ (CITOS, YOMC, PORTNET, YCS, SHUFFLING, CCTV)<br>
        for Operations
      </td>
      <td class="hours">2 days</td>
    </tr>

    <tr class="task-row">
      <td class="sn">2</td>
      <td class="task">
        Identify Yard Layout and Equipments used across P1-3
      </td>
      <td class="hours">2 days</td>
    </tr>

    <tr class="task-row">
      <td class="sn">3</td>
      <td class="task">
        Deployment &amp; Resource Verification
      </td>
      <td class="hours">2 days</td>
    </tr>

    <tr class="task-row">
      <td class="sn">4</td>
      <td class="task">
        CMRs, Point Group &amp; PM allocation
      </td>
      <td class="hours">7 days</td>
    </tr>

    <tr class="task-row">
      <td class="sn">5</td>
      <td class="task">
        Monitor Yard Operations and PM optimization
      </td>
      <td class="hours">7 days</td>
    </tr>

    <tr class="task-row">
      <td class="sn">6</td>
      <td class="task">
        Handle and Escalate different Yard Exceptions
      </td>
      <td class="hours">1 day</td>
    </tr>

    <tr class="task-row">
      <td class="sn">7</td>
      <td class="task">
        YPD attachment
      </td>
      <td class="hours">7 days</td>
    </tr>
  </table>

  <div class="page-footer">3 | Page</div>
  <script>
  (function () {

    const PAGE_CODE = "YSS_003";   // change to YSS_014 for page 14
    const SAVED_DATA = {{ saved_data | default({}) | tojson | safe }};

    const fields = document.querySelectorAll(
      "input[name], textarea[name], select[name]"
    );

    // Restore
    fields.forEach(el => {
      if (!SAVED_DATA.hasOwnProperty(el.name)) return;

      if (el.type === "radio") {
        el.checked = (el.value === SAVED_DATA[el.name]);
      } else if (el.type === "checkbox") {
        el.checked = SAVED_DATA[el.name] === "true";
      } else {
        el.value = SAVED_DATA[el.name];
      }
    });

    let timer = null;

    function autosave(el) {
      fetch("/training/autosave", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          page_code: PAGE_CODE,
          field: el.name,
          value: el.type === "checkbox" ? String(el.checked) : el.value
        })
      });
    }

    fields.forEach(el => {
      const handler = () => {
        clearTimeout(timer);
        timer = setTimeout(() => autosave(el), 200);
      };
      el.addEventListener("input", handler);
      el.addEventListener("change", handler);
    });

  })();
  </script>

</div>
