<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>General Competency Assessment Checklist for Assessor (YSS)</title>

<style>
  body {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 13px;
    margin: 32px;
    color: #000;
  }

  h1 {
    text-align: center;
    font-size: 16px;
    margin-bottom: 10px;
  }

  .intro {
    margin-bottom: 8px;
    line-height: 1.4;
  }

  .scale {
    text-align: right;
    font-style: italic;
    font-size: 12px;
    margin-bottom: 12px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th, td {
    border: 1px solid #000;
    padding: 6px;
    vertical-align: middle;
  }

  th {
    text-align: center;
    font-weight: bold;
  }

  .task-col {
    width: 45%;
  }

  .level {
    width: 40px;
    text-align: center;
  }

  .comments {
    width: 30%;
  }

  .section-title {
    font-weight: bold;
  }

  .task-number {
    width: 30px;
    text-align: center;
    font-weight: bold;
  }

  input[type="radio"] {
    width: 14px;
    height: 14px;
    cursor: pointer;
  }

  textarea {
    width: 100%;
    height: 40px;
    border: none;
    resize: vertical;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 12px;
  }
  .page-footer {
    margin-top: 24px;
    font-size: 11px;
    color: #666;
    text-align: right;
  }
</style>
</head>

<body>

<h1>General Competency Assessment Checklist for Assessor</h1>

<p class="intro">
Upon completion of the competency assessment, a Senior Officer will conduct the general competency assessment to determine if the trainee meets the required standards.
The Senior Officer is responsible for assessing the trainee on the individual components and filling in the performance standards between a scale of 0 – 4.
A trainee is required to attain a score of at least 3 for each component in order to pass the assessment.
</p>

<p class="scale">
1 – Need more practice, 2 – Pass, 3 – Good, 4 – Excellent
</p>

<table>
  <tr>
    <th class="task-number"></th>
    <th class="task-col">Task Outcome</th>
    <th colspan="4">Competency Level</th>
    <th class="comments">Comments</th>
  </tr>

  <tr>
    <th></th>
    <th></th>
    <th class="level">1</th>
    <th class="level">2</th>
    <th class="level">3</th>
    <th class="level">4</th>
    <th></th>
  </tr>

  <!-- ================= PERFORMANCE ASSESSMENT ================= -->

  <tr>
    <td class="task-number">1</td>
    <td class="section-title">Performance Assessment</td>
    <td></td><td></td><td></td><td></td>
    <td></td>
  </tr>

  <tr>
    <td></td>
    <td>Grasp of YSS knowledge and requirements</td>
    <td class="level"><input type="radio" name="yss_pa_1" value="1"></td>
    <td class="level"><input type="radio" name="yss_pa_1" value="2"></td>
    <td class="level"><input type="radio" name="yss_pa_1" value="3"></td>
    <td class="level"><input type="radio" name="yss_pa_1" value="4"></td>
    <td><textarea name="yss_pa_1_comment"></textarea></td>
  </tr>

  <tr>
    <td></td>
    <td>Application of job knowledge</td>
    <td class="level"><input type="radio" name="yss_pa_2" value="1"></td>
    <td class="level"><input type="radio" name="yss_pa_2" value="2"></td>
    <td class="level"><input type="radio" name="yss_pa_2" value="3"></td>
    <td class="level"><input type="radio" name="yss_pa_2" value="4"></td>
    <td><textarea name="yss_pa_2_comment"></textarea></td>
  </tr>

  <tr>
    <td></td>
    <td>Timeliness in carrying out tasks</td>
    <td class="level"><input type="radio" name="yss_pa_3" value="1"></td>
    <td class="level"><input type="radio" name="yss_pa_3" value="2"></td>
    <td class="level"><input type="radio" name="yss_pa_3" value="3"></td>
    <td class="level"><input type="radio" name="yss_pa_3" value="4"></td>
    <td><textarea name="yss_pa_3_comment"></textarea></td>
  </tr>

  <!-- ================= MANAGERIAL ASSESSMENT ================= -->

  <tr>
    <td class="task-number">2</td>
    <td class="section-title">Managerial Assessment</td>
    <td></td><td></td><td></td><td></td>
    <td></td>
  </tr>

  <tr>
    <td></td>
    <td>Planning</td>
    <td class="level"><input type="radio" name="yss_ma_1" value="1"></td>
    <td class="level"><input type="radio" name="yss_ma_1" value="2"></td>
    <td class="level"><input type="radio" name="yss_ma_1" value="3"></td>
    <td class="level"><input type="radio" name="yss_ma_1" value="4"></td>
    <td><textarea name="yss_ma_1_comment"></textarea></td>
  </tr>

  <tr>
    <td></td>
    <td>Organization of work</td>
    <td class="level"><input type="radio" name="yss_ma_2" value="1"></td>
    <td class="level"><input type="radio" name="yss_ma_2" value="2"></td>
    <td class="level"><input type="radio" name="yss_ma_2" value="3"></td>
    <td class="level"><input type="radio" name="yss_ma_2" value="4"></td>
    <td><textarea name="yss_ma_2_comment"></textarea></td>
  </tr>

  <tr>
    <td></td>
    <td>Leadership</td>
    <td class="level"><input type="radio" name="yss_ma_3" value="1"></td>
    <td class="level"><input type="radio" name="yss_ma_3" value="2"></td>
    <td class="level"><input type="radio" name="yss_ma_3" value="3"></td>
    <td class="level"><input type="radio" name="yss_ma_3" value="4"></td>
    <td><textarea name="yss_ma_3_comment"></textarea></td>
  </tr>

  <tr>
    <td></td>
    <td>Decision-making</td>
    <td class="level"><input type="radio" name="yss_ma_4" value="1"></td>
    <td class="level"><input type="radio" name="yss_ma_4" value="2"></td>
    <td class="level"><input type="radio" name="yss_ma_4" value="3"></td>
    <td class="level"><input type="radio" name="yss_ma_4" value="4"></td>
    <td><textarea name="yss_ma_4_comment"></textarea></td>
  </tr>

  <tr>
    <td></td>
    <td>Communication</td>
    <td class="level"><input type="radio" name="yss_ma_5" value="1"></td>
    <td class="level"><input type="radio" name="yss_ma_5" value="2"></td>
    <td class="level"><input type="radio" name="yss_ma_5" value="3"></td>
    <td class="level"><input type="radio" name="yss_ma_5" value="4"></td>
    <td><textarea name="yss_ma_5_comment"></textarea></td>
  </tr>

  <tr>
    <td></td>
    <td><strong>Overall YSS Rating</strong></td>
    <td class="level"><input type="radio" name="yss_overall" value="1"></td>
    <td class="level"><input type="radio" name="yss_overall" value="2"></td>
    <td class="level"><input type="radio" name="yss_overall" value="3"></td>
    <td class="level"><input type="radio" name="yss_overall" value="4"></td>
    <td><textarea name="yss_overall_comment"></textarea></td>
  </tr>

</table>
<div class="page-footer">21 | Page</div>
<script>
(function () {

  const PAGE_CODE = "YSS_021";   // change to YSS_014 for page 14
  const SAVED_DATA = {{ saved_data | default({}) | tojson | safe }};

  const fields = document.querySelectorAll(
    "input[name], textarea[name], select[name]"
  );

  // Restore
  fields.forEach(el => {
    if (!SAVED_DATA.hasOwnProperty(el.name)) return;

    if (el.type === "radio") {
      el.checked = (el.value === SAVED_DATA[el.name]);
    } else if (el.type === "checkbox") {
      el.checked = SAVED_DATA[el.name] === "true";
    } else {
      el.value = SAVED_DATA[el.name];
    }
  });

  let timer = null;

  function autosave(el) {
    fetch("/training/autosave", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        page_code: PAGE_CODE,
        field: el.name,
        value: el.type === "checkbox" ? String(el.checked) : el.value
      })
    });
  }

  fields.forEach(el => {
    const handler = () => {
      clearTimeout(timer);
      timer = setTimeout(() => autosave(el), 200);
    };
    el.addEventListener("input", handler);
    el.addEventListener("change", handler);
  });

})();
</script>

</body>
</html>
