<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>General Competency Assessment Checklist for Assessor</title>

<style>
  body {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 13px;
    margin: 32px;
    color: #000;
  }

  h1 {
    text-align: center;
    font-size: 16px;
    margin-bottom: 10px;
  }

  .intro {
    margin-bottom: 8px;
    line-height: 1.4;
  }

  .scale {
    text-align: center;
    font-style: italic;
    font-size: 12px;
    margin-bottom: 12px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th, td {
    border: 1px solid #000;
    padding: 6px;
    vertical-align: middle;
  }

  th {
    text-align: center;
    font-weight: bold;
  }

  .task-col {
    width: 45%;
  }

  .level {
    width: 40px;
    text-align: center;
  }

  .comments {
    width: 30%;
  }

  .section-title {
    font-weight: bold;
  }

  .task-number {
    width: 30px;
    text-align: center;
    font-weight: bold;
  }

  input[type="radio"] {
    width: 14px;
    height: 14px;
    cursor: pointer;
  }
</style>
</head>

<body>

<h1>General Competency Assessment Checklist for Assessor</h1>

<p class="intro">
Upon completion of the competency assessment, a Senior Officer will conduct the general competency assessment to determine if the trainee meets the required standards. The Senior Officer is responsible for assessing the trainee on the individual components and filling in the performance standards between a scale of 0 – 4. A trainee is required to attain a score of at least 3 for each component in order to pass the assessment.
</p>

<p class="scale">
1 – Need more practice, 2 – Pass, 3 – Good, 4 – Excellent
</p>

<table>
  <tr>
    <th class="task-number"></th>
    <th class="task-col">Task Outcome</th>
    <th colspan="4">Competency Level</th>
    <th class="comments">Comments</th>
  </tr>

  <tr>
    <th></th>
    <th></th>
    <th class="level">1</th>
    <th class="level">2</th>
    <th class="level">3</th>
    <th class="level">4</th>
    <th></th>
  </tr>

  <tr>
    <td class="task-number">1</td>
    <td class="section-title">Performance Assessment</td>
    <td></td><td></td><td></td><td></td>
    <td></td>
  </tr>

  <tr>
    <td></td>
    <td>Grasp of YAS knowledge and requirements</td>
    <td class="level"><input type="radio" name="yas1" value="1"></td>
    <td class="level"><input type="radio" name="yas1" value="2"></td>
    <td class="level"><input type="radio" name="yas1" value="3"></td>
    <td class="level"><input type="radio" name="yas1" value="4"></td>
    <td></td>
  </tr>

  <tr>
    <td></td>
    <td>Application of job knowledge</td>
    <td class="level"><input type="radio" name="yas2" value="1"></td>
    <td class="level"><input type="radio" name="yas2" value="2"></td>
    <td class="level"><input type="radio" name="yas2" value="3"></td>
    <td class="level"><input type="radio" name="yas2" value="4"></td>
    <td></td>
  </tr>

  <tr>
    <td></td>
    <td>Timeliness in carrying out tasks</td>
    <td class="level"><input type="radio" name="yas3" value="1"></td>
    <td class="level"><input type="radio" name="yas3" value="2"></td>
    <td class="level"><input type="radio" name="yas3" value="3"></td>
    <td class="level"><input type="radio" name="yas3" value="4"></td>
    <td></td>
  </tr>

  <tr>
    <td class="task-number">2</td>
    <td class="section-title">Managerial Assessment</td>
    <td></td><td></td><td></td><td></td>
    <td></td>
  </tr>

  <tr>
    <td></td>
    <td>Planning</td>
    <td class="level"><input type="radio" name="yas4" value="1"></td>
    <td class="level"><input type="radio" name="yas4" value="2"></td>
    <td class="level"><input type="radio" name="yas4" value="3"></td>
    <td class="level"><input type="radio" name="yas4" value="4"></td>
    <td></td>
  </tr>

  <tr>
    <td></td>
    <td>Organization of work</td>
    <td class="level"><input type="radio" name="yas5" value="1"></td>
    <td class="level"><input type="radio" name="yas5" value="2"></td>
    <td class="level"><input type="radio" name="yas5" value="3"></td>
    <td class="level"><input type="radio" name="yas5" value="4"></td>
    <td></td>
  </tr>

  <tr>
    <td></td>
    <td>Leadership</td>
    <td class="level"><input type="radio" name="yas6" value="1"></td>
    <td class="level"><input type="radio" name="yas6" value="2"></td>
    <td class="level"><input type="radio" name="yas6" value="3"></td>
    <td class="level"><input type="radio" name="yas6" value="4"></td>
    <td></td>
  </tr>

  <tr>
    <td></td>
    <td>Decision-making</td>
    <td class="level"><input type="radio" name="yas7" value="1"></td>
    <td class="level"><input type="radio" name="yas7" value="2"></td>
    <td class="level"><input type="radio" name="yas7" value="3"></td>
    <td class="level"><input type="radio" name="yas7" value="4"></td>
    <td></td>
  </tr>

  <tr>
    <td></td>
    <td>Communication</td>
    <td class="level"><input type="radio" name="yas8" value="1"></td>
    <td class="level"><input type="radio" name="yas8" value="2"></td>
    <td class="level"><input type="radio" name="yas8" value="3"></td>
    <td class="level"><input type="radio" name="yas8" value="4"></td>
    <td></td>
  </tr>

  <tr>
    <td></td>
    <td><strong>Overall YAS Rating</strong></td>
    <td class="level"><input type="radio" name="yas9" value="1"></td>
    <td class="level"><input type="radio" name="yas9" value="2"></td>
    <td class="level"><input type="radio" name="yas9" value="3"></td>
    <td class="level"><input type="radio" name="yas9" value="4"></td>
    <td></td>
  </tr>

</table>

<!-- ================= AUTOSAVE SCRIPT ================= -->
<script>
(function () {

  const PAGE_CODE = "031";
  const SAVED_DATA = JSON.parse('{{ saved_data | tojson | safe }}');

  const fields = document.querySelectorAll(
    "input[name], textarea[name], select[name]"
  );

  // Restore
  fields.forEach(el => {
    if (!SAVED_DATA.hasOwnProperty(el.name)) return;

    if (el.type === "radio") {
      el.checked = (el.value === SAVED_DATA[el.name]);
    } else {
      el.value = SAVED_DATA[el.name];
    }
  });

  // Autosave
  let timer = null;

  function autosave(el) {
    fetch("/training/autosave", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        page_code: PAGE_CODE,
        field: el.name,
        value: el.value
      })
    });
  }

  fields.forEach(el => {
    const handler = () => {
      clearTimeout(timer);
      timer = setTimeout(() => autosave(el), 200);
    };
    el.addEventListener("change", handler);
  });

})();
</script>

</body>
</html>
